<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="templates/client/query/query.css">
    <title>Document</title>
</head>
<script src="templates/utils.js"></script>
<script src="templates/client/query/query.js"></script>
<body>
    <div>
        {{range $Key, $Queries := .Request.Queries.Queries }}
            {{range  $Index, $Value := $Queries.Query }}
                {{$Uuid := Uuid}}
                <div class="query-parameter">
                    {{ $QueryStatusKey := Concat $.Constants.Query.QueryStatus $.Constants.Format.KeySeparator $Uuid }}
                    <label for="{{ $QueryStatusKey }}">
                        <input name="{{ $QueryStatusKey }}" type="checkbox" 
                            {{if $Queries.Active}} checked {{end}}>
                    </label>

                    {{ $QueryNameKey := Concat $.Constants.Query.QueryName $.Constants.Format.KeySeparator $Uuid }}
                    <label for="{{ $QueryNameKey }}">
                        <input name="{{ $QueryNameKey }}" type="text" placeholder="Parameter" value="{{ $Queries.Key }}">
                    </label>

                    {{ $QueryValueKey := Concat $.Constants.Query.QueryValue $.Constants.Format.KeySeparator $Uuid }}
                    <label for="{{ $QueryValueKey }}">
                        <input name="{{ $QueryValueKey }}" type="text" placeholder="Value" value="{{ $Value }}">
                    </label>
                    
                    <button type="button" class="query-remove-button" onclick="removeQueryRow(event)" disabled>X</button>
                </div>
            {{end}}
        {{end}}
        <div id="query-parameter-template" class="query-parameter">
            <label for="{{ .Constants.Query.QueryStatus }}">
                <input name="{{ .Constants.Query.QueryStatus }}" type="checkbox" disabled>
            </label>
            <label for="{{ .Constants.Query.QueryName }}">
                <input name="{{ .Constants.Query.QueryName }}" type="text" onkeydown="newQueryRow()" placeholder="Parameter">
            </label>
            <label for="{{ .Constants.Query.QueryValue }}">
                <input name="{{ .Constants.Query.QueryValue }}" type="text" onkeydown="newQueryRow()" placeholder="Value">
            </label>
            <button type="button" class="query-remove-button" onclick="removeQueryRow(event)" disabled>X</button>
        </div>
    </div>
</body>
</html>